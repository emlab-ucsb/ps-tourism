README

This repository contains all data and code used in the paper titled “Marine protected areas for dive tourism”. This README document provides a brief description of the different files in this repository that are necessary to be able to run the MPA tourism model.

Scripts

The scripts folder contains the following folders: 
…/scripts/00-data-analysis/ - Contains scripts used to create and wrangle the global database of dive prices, the crowdsourced database of dive sites and logged dives from Diveboard.com, and a literature derived database of diver origins. 

…/scripts/01-model-prep/ - Contains scripts used to prepare inputs for the global models of fish biomass, biodiversity, and demand for diving. The main model prep scripts are as follows:
•	prep_stock_geogrange.R – Converts stock distribution to Mollweide
•	prep_distance_matrix.R – Reformats global distance matrices. Distance of each pixel is needed because adult movement and larval dispersal are distance-dependent.
•	prep_eez_coords.R – Code for generating the EEZ shapefile, i.e., this allowed us to assign each dive pixel to EEZ.
•	prep_biodiversity_inputs.R – Code for preparing the inputs for the biodiversity model.


…/scripts/02-run-model/ - Contains the main scripts used to run the dive tourism model. This folder contains the tourism-mpa.R script which is the key script that controls the model. 

…/scripts/03-figures/ - Contains scripts used to make the figures for the paper. 

…/scripts/functions/ - Contains a number of helper functions that are required to run tourism-mpa.R. The main helper functions are as follows:
•	func_evaluateMPA_explicit.R – Function for evaluating the biomass change from a network of MPAs.
•	calculate_relative_bio_benefit.R – Code for calculating changes in biodiversity scores, given a network of MPAs.
•	func_evaluate_divefee.R – Code used for the sensitivity analysis. This code calculates the changes in dive fee revenue under different assumptions like different numbers of dive estimates, different price estimates, etc.

Data

The data folder contains a number of raw and edited data files. Some key files are as follows:
•	tourism_model_input.RData – Key scuba dive tourism input data. This file contains the following objects:
o	"ocean_df_with_eezs" – dataframe containing all the ocean pixels (with pixel ids)
o	"dives_input" – Number of scuba dives per pixel 
o	"suitability_input" – Pixels that have existing scuba diving are identified here           
o	"price_constant_input" – Price per dive per pixel, assuming that a constant dive price is used for all dive sites in the word (i.e., global median dive price)
o	"price_country_region_input" – Price per dive per pixel, assuming median dive price per region.
o	"price_interpolated_input" - Price per dive per pixel generated by spatially interpolating actual dive price data
•	MegaData_Sala.rds – Fisheries data from Sala et al. (2021).
•	transformed_stockdistrib.rds – Stock distribution data used in Sala et al. (2021).
•	pld_rf_predictions_final.csv – This is the pelagic larval duration (PLD) data used in our model. This PLD is based on a combination of a comprehensive literature search and a machine learning model to fill out data gaps. See Bradley et al. (2023).
•	homerange_rf_predictions_10112022.csv – This is the species home range data used in our model. This PLD is based on a combination of a comprehensive literature search and a machine learning model to fill out data gaps. See Bradley et al. (2023).

References

D. Bradley, A. M. Caughman, S. A. Fogg, R. B. Cabral, J. Mayorga, W. Goodell, K. D. Millage, T. D. White, Marine Fish Movement: home range sizes for commercially relevant species. Sci. Data. In review (2023).

E. Sala, J. Mayorga, D. Bradley, R. B. Cabral, T. B. Atwood, A. Auber, W. Cheung, C. Costello, F. Ferretti, A. M. Friedlander, S. D. Gaines, C. Garilao, W. Goodell, B. S. Halpern, A. Hinson, K. Kaschner, K. Kesner-Reyes, F. Leprieur, J. McGowan, L. E. Morgan, D. Mouillot, J. Palacios-Abrantes, H. P. Possingham, K. D. Rechberger, B. Worm, J. Lubchenco, Protecting the global ocean for biodiversity, food and climate. Nature. 592, 397–402 (2021).
![image](https://github.com/rencabral/tourism-mpa/assets/19211467/60caf328-5828-4c4c-80ac-26495751d914)
